<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="428px" preserveAspectRatio="none" style="width:488px;height:428px;" version="1.1" viewBox="0 0 488 428" width="488px" zoomAndPan="magnify"><defs><filter height="300%" id="f1253rs3fk08cd" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="83" x="206" y="18.6855">Logging in</text><rect fill="#FEFECE" filter="url(#f1253rs3fk08cd)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="236.5" y="30.6406"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="236.5" x2="311.5" y1="58.25" y2="58.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="246.5" y="50.1738">index.jsp</text><rect fill="#FEFECE" filter="url(#f1253rs3fk08cd)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="365.5" y="158.6406"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="365.5" x2="476.5" y1="186.25" y2="186.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="91" x="375.5" y="178.1738">Error index.jsp</text><rect fill="#FEFECE" filter="url(#f1253rs3fk08cd)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="79" x="95.5" y="158.6406"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="95.5" x2="174.5" y1="186.25" y2="186.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="105.5" y="178.1738">LoggedIn</text><rect fill="#FEFECE" filter="url(#f1253rs3fk08cd)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="6" y="286.6406"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="6" x2="118" y1="314.25" y2="314.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="16" y="306.1738">adminpage.jsp</text><rect fill="#FEFECE" filter="url(#f1253rs3fk08cd)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="132" x="153" y="286.6406"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="153" x2="285" y1="314.25" y2="314.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="163" y="306.1738">customerpage.jsp</text><path d="M210,162.1406 L210,179.6406 L174.551,183.6406 L210,187.6406 L210,204.8438 A0,0 0 0 0 210,204.8438 L330,204.8438 A0,0 0 0 0 330,204.8438 L330,172.1406 L320,162.1406 L210,162.1406 A0,0 0 0 0 210,162.1406 " fill="#FBFB77" filter="url(#f1253rs3fk08cd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M320,162.1406 L320,172.1406 L330,172.1406 L320,162.1406 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="216" y="180.6357">email and role</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="216" y="196.9873">stored in session</text><ellipse cx="191" cy="55.6406" fill="#000000" filter="url(#f1253rs3fk08cd)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><ellipse cx="155" cy="407.6406" fill="none" filter="url(#f1253rs3fk08cd)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="155.5" cy="408.1406" fill="#000000" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><!--MD5=[f28e426d53cfc404a023c965f481f18a]
link *start to index.jsp--><path d="M201.051,55.6406 C211.081,55.6406 221.111,55.6406 231.141,55.6406 " fill="none" id="*start-&gt;index.jsp" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="236.386,55.6406,227.386,51.6406,231.386,55.6406,227.386,59.6406,236.386,55.6406" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[b29ce44899080303239c71214f25ad5f]
link index.jsp to LoggedIn--><path d="M236.462,73.0586 C230.316,75.6516 223.997,78.2606 218,80.6406 C181.93,94.9556 158.453,78.9886 136,110.6406 C127.368,122.8096 126.567,139.2796 128.171,153.3966 " fill="none" id="index.jsp-&gt;LoggedIn" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="128.861,158.4796,131.6161,149.024,128.1895,153.5249,123.6886,150.0983,128.861,158.4796" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="137" y="125.1357">user and pw OK</text><!--MD5=[99fa79927056e5b5a0f04d7a5448eca6]
link error to index.jsp--><path d="M412.341,158.5356 C405.882,143.2796 395.791,123.9866 382,110.6406 C363.584,92.8176 338.127,79.7026 316.553,70.8636 " fill="none" id="error-&gt;index.jsp" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="311.73,68.9316,318.5981,75.9906,316.3717,70.7903,321.572,68.5639,311.73,68.9316" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="398" y="125.1357">try-again</text><!--MD5=[17b1cfd39615a6a42ed5c40aa1bbf5d2]
link index.jsp to error--><path d="M264.114,80.7576 C259.64,95.8286 257.266,114.9126 267,128.6406 C268.489,130.7406 317.963,147.8746 360.435,162.2876 " fill="none" id="index.jsp-&gt;error" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="365.311,163.9406,358.0721,157.2625,360.5758,162.3351,355.5032,164.8388,365.311,163.9406" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="268" y="125.1357">user or pw not OK</text><!--MD5=[d7fe91364b4813c5b6a0b66843fd43a0]
link LoggedIn to adminpage.jsp--><path d="M101.3807,208.7376 C91.8263,217.1686 82.3135,227.3756 76,238.6406 C68.8,251.4876 65.2481,267.4206 63.5176,281.0306 " fill="none" id="LoggedIn-&gt;adminpage.jsp" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="62.9205,286.3146,67.9058,277.8207,63.4819,281.3462,59.9564,276.9224,62.9205,286.3146" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="77" y="253.1357">if role = "admin"</text><!--MD5=[3cf87b76d8a044400cf9626b544b3fbb]
link LoggedIn to customerpage.jsp--><path d="M153.017,208.8586 C159.741,218.0846 167.353,228.7566 174,238.6406 C183.46,252.7076 193.502,268.6656 201.693,281.9766 " fill="none" id="LoggedIn-&gt;customerpage.jsp" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="204.397,286.3836,203.1017,276.6203,201.7831,282.1213,196.282,280.8026,204.397,286.3836" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="187" y="253.1357">if role ="customer"</text><!--MD5=[5fff1cb680abd9f4d704b2130a257b6a]
link adminpage.jsp to *end--><path d="M85.9498,336.8479 C104.8402,355.9415 130.282,381.6568 144.414,395.9413 " fill="none" id="adminpage.jsp-&gt;*end" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="148.086,399.6521,144.5995,390.441,144.5694,396.0978,138.9126,396.0676,148.086,399.6521" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[aa250f2dda0d57fbfe9b2ac1a6102d30]
link customerpage.jsp to *end--><path d="M202.518,336.8479 C189.898,355.3839 173.029,380.1605 163.156,394.6611 " fill="none" id="customerpage.jsp-&gt;*end" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="160.329,398.813,168.7006,393.625,163.1431,394.6801,162.0879,389.1225,160.329,398.813" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[80af38963f91aedcbc93830eb44ef492]
@startuml

Title Logging in
State index.jsp
State "Error index.jsp" as error
State LoggedIn
State adminpage.jsp
State customerpage.jsp

note right of LoggedIn
email and role
stored in session
end note

[*] -> index.jsp
index.jsp - -> LoggedIn : user and pw OK
error - -> index.jsp : try-again
index.jsp - -> error : user or pw not OK
LoggedIn - -> adminpage.jsp : if role = "admin"
LoggedIn - -> customerpage.jsp : if role ="customer"
adminpage.jsp - ->[*]
customerpage.jsp - ->[*]

@enduml

PlantUML version 1.2020.03beta6(Unknown compile time)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+8-b520.43
Operating System: Windows 10
Default Encoding: Cp1252
Language: da
Country: DK
--></g></svg>